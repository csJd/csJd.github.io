<!DOCTYPE html>
<html lang="default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.deng.cf","root":"/","images":"/images","scheme":"Mist","darkmode":false,"version":"8.14.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false,"dimmer":false},"copycode":{"enable":false,"style":null,"show_result":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js"></script>

    <meta name="description" content="题意 建设一条河岸的污水处理系统 河岸有n个城市 每个城市都可以自己处理污水 V 也可以把污水传到相邻的城市处理 &gt;或&lt; 除了你传给我我也传给你这种情况 其它都是合法的 两端的城市不能传到不存在的城市 令d[i]表示有i个城市时的处理方法数 最后一个城市的处理方法有 1.V 自己处理自己的 与前i-1个城市的处理方法无关 有d[i-1]种方法 2.&lt; 给左边的城市去处理 也与前i">
<meta property="og:type" content="article">
<meta property="og:title" content="POJ 1205 Water Treatment Plants(递推)">
<meta property="og:url" content="http://blog.deng.cf/posts/oj/dp/POJ%201205%20Water%20Treatment%20Plants(%E9%80%92%E6%8E%A8)/index.html">
<meta property="og:site_name" content="dd&#39;s site \#">
<meta property="og:description" content="题意 建设一条河岸的污水处理系统 河岸有n个城市 每个城市都可以自己处理污水 V 也可以把污水传到相邻的城市处理 &gt;或&lt; 除了你传给我我也传给你这种情况 其它都是合法的 两端的城市不能传到不存在的城市 令d[i]表示有i个城市时的处理方法数 最后一个城市的处理方法有 1.V 自己处理自己的 与前i-1个城市的处理方法无关 有d[i-1]种方法 2.&lt; 给左边的城市去处理 也与前i">
<meta property="og:locale">
<meta property="og:image" content="http://blog.deng.cf/images/es-1205_1.jpg.png">
<meta property="article:published_time" content="2014-09-02T09:51:36.000Z">
<meta property="article:modified_time" content="2022-12-21T09:36:09.297Z">
<meta property="article:author" content="Deng">
<meta property="article:tag" content="Algorithm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://blog.deng.cf/images/es-1205_1.jpg.png">


<link rel="canonical" href="http://blog.deng.cf/posts/oj/dp/POJ%201205%20Water%20Treatment%20Plants(%E9%80%92%E6%8E%A8)/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"default","comments":true,"permalink":"http://blog.deng.cf/posts/oj/dp/POJ%201205%20Water%20Treatment%20Plants(%E9%80%92%E6%8E%A8)/","path":"posts/oj/dp/POJ 1205 Water Treatment Plants(递推)/","title":"POJ 1205 Water Treatment Plants(递推)"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>POJ 1205 Water Treatment Plants(递推) | dd's site \#</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">dd's site \#</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Deng"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">Deng</p>
  <div class="site-description" itemprop="description">Don't be evil.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">262</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/csJd" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;csJd" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:scutjd@gmail.com" title="E-Mail → mailto:scutjd@gmail.com" rel="noopener" target="_blank"><i class="envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="default">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/dp/POJ%201205%20Water%20Treatment%20Plants(%E9%80%92%E6%8E%A8)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="POJ 1205 Water Treatment Plants(递推) | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          POJ 1205 Water Treatment Plants(递推)
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2014-09-02 09:51:36" itemprop="dateCreated datePublished" datetime="2014-09-02T09:51:36+00:00">2014-09-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/DP/" itemprop="url" rel="index"><span itemprop="name">DP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>题意 建设一条河岸的污水处理系统 河岸有n个城市 每个城市都可以自己处理污水 V 也可以把污水传到相邻的城市处理 &gt;或&lt; 除了你传给我我也传给你这种情况 其它都是合法的 两端的城市不能传到不存在的城市</p>
<p>令d[i]表示有i个城市时的处理方法数 最后一个城市的处理方法有</p>
<p>1.V 自己处理自己的 与前i-1个城市的处理方法无关 有d[i-1]种方法</p>
<p>2.&lt; 给左边的城市去处理 也与前i-1个城市的处理方法无关 把自己的污水给第i-1个城市就行了 有d[i-1]种方法</p>
<p>3.&gt;V 左边有污水传过来 和自己的一起处理 这时第i-1个城市可以向右传了 如果这种情况发生的话 那么第i-1个城市肯定不可能是向左传的 但前i-2个城市的处理方法没有影响 所以第i-1个城市向左传的方法有d[i-2]种 然后第i-1个城市不向左传就有d[i-1]-d[i-2]种方法了</p>
<p>所以有递推公式d[i]&#x3D;3&#x2F;*d[i-1]-d[i-2];</p>
<p>增长速度很快要用大数处理 大数就用java了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.<span class="property">util</span>.*;</span><br><span class="line"><span class="keyword">import</span> java.<span class="property">math</span>.*;</span><br><span class="line"></span><br><span class="line">public <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">	public <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span>(<span class="params"><span class="built_in">String</span> args[]</span>) &#123;</span><br><span class="line">		<span class="title class_">Scanner</span> <span class="keyword">in</span> = <span class="keyword">new</span> <span class="title class_">Scanner</span>(<span class="title class_">System</span>.<span class="property">in</span>);</span><br><span class="line">		<span class="title class_">BigInteger</span> d[] = <span class="keyword">new</span> <span class="title class_">BigInteger</span>[<span class="number">105</span>];</span><br><span class="line">		d[<span class="number">1</span>] = <span class="title class_">BigInteger</span>.<span class="property">ONE</span>;</span><br><span class="line">		d[<span class="number">2</span>] = <span class="title class_">BigInteger</span>.<span class="title function_">valueOf</span>(<span class="number">3</span>);</span><br><span class="line">		<span class="keyword">for</span> (int i = <span class="number">3</span>; i &lt;= <span class="number">100</span>; ++i)</span><br><span class="line">			d[i] = d[i - <span class="number">1</span>].<span class="title function_">multiply</span>(d[<span class="number">2</span>]).<span class="title function_">subtract</span>(d[i - <span class="number">2</span>]);</span><br><span class="line">		<span class="keyword">while</span> (<span class="keyword">in</span>.<span class="title function_">hasNext</span>())</span><br><span class="line">			<span class="title class_">System</span>.<span class="property">out</span>.<span class="title function_">println</span>(d[<span class="keyword">in</span>.<span class="title function_">nextInt</span>()]);</span><br><span class="line">		<span class="keyword">in</span>.<span class="title function_">close</span>();</span><br><span class="line">	&#125;</span><br><span class="line">&lt;span style=<span class="string">&quot;font-family:Microsoft YaHei;&quot;</span>&gt;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure>
<p>还有没加大数模版的c++代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">105</span>;</span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int d[N] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">3</span>&#125;, n;</span><br><span class="line">    <span class="keyword">for</span> (int i = <span class="number">3</span>; i &lt;= <span class="number">100</span>; ++i)</span><br><span class="line">        d[i] = <span class="number">3</span> * d[i - <span class="number">1</span>] - d[i - <span class="number">2</span>];</span><br><span class="line">    <span class="keyword">while</span> (~scanf (<span class="string">&quot;%d&quot;</span>, &amp;n))</span><br><span class="line">        printf (<span class="string">&quot;%d\n&quot;</span>, d[n]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Water Treatment Plants</p>
<p>Description</p>
<p>River polution control is a major challenge that authorities face in order to ensure future clean water supply. Sewage treatment plants are used to clean-up the dirty water comming from cities before being discharged into the river.<br>As part of a coordinated plan, a pipeline is setup in order to connect cities to the sewage treatment plants distributed along the river. It is more efficient to have treatment plants running at maximum capacity and less-used ones switched off for a period. So, each city has its own treatment plant by the river and also a pipe to its neighbouring city upstream and a pipe to the next city downstream along the riverside. At each city’s treatment plant there are three choices:</p>
<p><img src="/../images/es-1205_1.jpg.png"><br>The choices above ensure that:<br>every city must have its water treated somewhere and<br>at least one city must discharge the cleaned water into the river.<br>Let’s represent a city discharging water into the river as “V” (a downwards flow), passing water onto its neighbours as “&gt;” (to the next city on its right) or else “&lt;” (to the left). When we have several cities along the river bank, we assign a symbol to each (V, &lt; or &gt;) and list the cities symbols in order. For example, two cities, A and B, can<br>each treat their own sewage and each discharges clean water into the river. So A’s action is denoted V as is B’s and we write “VV” ;<br>or else city A can send its sewage along the pipe (to the right) to B for treatment and discharge, denoted “&gt;V”;<br>or else city B can send its sewage to (the left to) A, which treats it with its own dirty water and discharges (V) the cleaned water into the river. So A discharges (V) and B passes water to the left (&lt;), and we denote this situation as “V&lt;”.<br>We could not have “&gt;&lt;” since this means A sends its water to B and B sends its own to A, so both are using the same pipe and this is not allowed. Similarly “&lt;&lt;” is not possible since A’s “&lt;” means it sends its water to a non-existent city on its left.<br>So we have just 3 possible set-ups that fit the conditions:<br> A B A &gt; B A &lt; B V V V V RIVER~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~ ~RIVER “VV” “&gt;V” “V&lt;”<br>If we now consider three cities, we can determine 8 possible set-ups.<br>Your task is to produce a program that given the number of cities NC (or treatment plants) in the river bank, determines the number of possible set-ups, NS, that can be made according to the rules define above.<br>You need to be careful with your design as the number of cities can be as large as 100.</p>
<p>Input</p>
<p>The input consists of a sequence of values, one per line, where each value represents the number of cities.</p>
<p>Output</p>
<p>Your output should be a sequence of values, one per line, where each value represents the number of possible set-ups for the corresponding number of cities read in the same input line.</p>
<p>Sample Input</p>
<p>2 3 20</p>
<p>Sample Output</p>
<p>3 8 102334155</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/posts/oj/dp/HDU%201978%20How%20many%20ways(DP)/" rel="prev" title="HDU 1978 How many ways(DP)">
                  <i class="fa fa-chevron-left"></i> HDU 1978 How many ways(DP)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/posts/oj/search/POJ%201856%20Sea%20Battle(DFS)/" rel="next" title="POJ 1856 Sea Battle(DFS)">
                  POJ 1856 Sea Battle(DFS) <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2014 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Deng</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
