<!DOCTYPE html>
<html lang="default">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: light)">
<meta name="theme-color" content="#222" media="(prefers-color-scheme: dark)"><meta name="generator" content="Hexo 6.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/uploads/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/uploads/favicon.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css" integrity="sha256-Z1K5uhUaJXA7Ll0XrZ/0JhX4lAtZFpT6jkKrEDT0drU=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"blog.deng.cf","root":"/","images":"/images","scheme":"Mist","darkmode":true,"version":"8.14.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12},"copycode":{"enable":false,"style":null},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"},"path":"/search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}}</script><script src="/js/config.js"></script>



<link rel="canonical" href="http://blog.deng.cf/page/3/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"default","comments":"","permalink":"","path":"page/3/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>dd's site \#</title>
  






  <script async defer data-website-id="" src=""></script>

  <script defer data-domain="" src=""></script>

  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">dd's site \#</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup"><div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close" role="button">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Deng"
      src="/uploads/avatar.jpg">
  <p class="site-author-name" itemprop="name">Deng</p>
  <div class="site-description" itemprop="description">Don't be evil.</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">262</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">12</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author animated">
      <span class="links-of-author-item">
        <a href="https://github.com/csJd" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;csJd" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:scutjd@gmail.com" title="E-Mail → mailto:scutjd@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/my-practice-with-hexo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/my-practice-with-hexo/" class="post-title-link" itemprop="url">我的 Hexo 使用实践（一）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-26 09:36:10" itemprop="dateCreated datePublished" datetime="2017-02-26T09:36:10+00:00">2017-02-26</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Experience/" itemprop="url" rel="index"><span itemprop="name">Experience</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>此博客是由 Github Pages 和 Hexo 搭建的，分享以下我的使用实践。</p>
<h2 id="一-安装-Hexo"><a href="#一-安装-Hexo" class="headerlink" title="一. 安装 Hexo"></a>一. 安装 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/">Hexo</a></h2><h3 id="1-安装-Node-js-和-Git"><a href="#1-安装-Node-js-和-Git" class="headerlink" title="1. 安装 Node.js 和 Git"></a>1. 安装 Node.js 和 Git</h3><p>必须安装了 Node.js 和 Git 才能安装使用 Hexo，按照 <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/index.html">Hexo 官方提供的教程</a>安装即可，Windows 用户推荐使用安装包安装，安装过程勾选添加到 PATH。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/my-practice-with-hexo/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/bind-domian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/bind-domian/" class="post-title-link" itemprop="url">绑定 Github Pages 到自己的域名</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-25 20:22:53" itemprop="dateCreated datePublished" datetime="2017-02-25T20:22:53+00:00">2017-02-25</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Experience/" itemprop="url" rel="index"><span itemprop="name">Experience</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Github 提供了 GitHub pages 绑定到域名的方法，刚好之前申请了一个 <a target="_blank" rel="noopener" href="http://www.freenom.com/zh/index.html?lang=zh">freenom</a> 的免费域名，用自己的域名有时候会方便一些，下面是方法。</p>
<h2 id="1-Ping"><a href="#1-Ping" class="headerlink" title="1. Ping"></a>1. Ping</h2><p><code>ping</code> 你的 Github Pages 对应的服务器 IP</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping csJd.github.io</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/bind-domian/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/aries-systemless-root/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/aries-systemless-root/" class="post-title-link" itemprop="url">小米 2s Magisk 框架实现 Systemless Root</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-02-08 16:20:20" itemprop="dateCreated datePublished" datetime="2017-02-08T16:20:20+00:00">2017-02-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Experience/" itemprop="url" rel="index"><span itemprop="name">Experience</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>听说最近出了个 Magisk 框架，可以在不修改 &#x2F;system 下实现 root 和 xposed ，这样理论上装了 xposed 框架还能 OTA ，听起来真不错。就拿出了我的 2s 折腾了下，发现真的可以，这里分享一下过程。<br>我是卡刷官方倒数第二个稳定版（<a target="_blank" rel="noopener" href="http://bigota.d.miui.com/V8.1.2.0.LXACNDI/miui_MI2_V8.1.2.0.LXACNDI_95e24f367d_5.0.zip">V8.1.2.0.LXACNDI</a>），清空全部数据再进行以下操作的，不保证其他情况不会出现问题，请自行尝试。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/posts/aries-systemless-root/#more" rel="contents">
                Read more &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/string/HDU%203374%20String%20Problem%EF%BC%88%E6%9C%80%E5%B0%8F%E8%A1%A8%E7%A4%BA%E6%B3%95%C2%B7KMP%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/string/HDU%203374%20String%20Problem%EF%BC%88%E6%9C%80%E5%B0%8F%E8%A1%A8%E7%A4%BA%E6%B3%95%C2%B7KMP%EF%BC%89/" class="post-title-link" itemprop="url">HDU 3374 String Problem（最小表示法·KMP）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-10-06 10:43:25" itemprop="dateCreated datePublished" datetime="2015-10-06T10:43:25+00:00">2015-10-06</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/String/" itemprop="url" rel="index"><span itemprop="name">String</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 给你一个环形串 输出其最小表示法的首字母位置 最大表示法的首字母位置 以及和对应位置等价位置的个数</p>
<p>最小表示法指一个循环串以某一位开始时对应的串的字典序最小 这个串就是该循环串的最小表示法</p>
<p>先看一下求字符串最小表示法的过程 可以看2003年国家集训队论文集中周源的论文</p>
<p>令 p 表示字符串 s 的最小表示法的下标, l &#x3D; strlen(s) s &#x3D; s + s</p>
<p>当<strong>i &lt;&#x3D; p &amp;&amp; j &lt;&#x3D; p &amp;&amp; i ！&#x3D; j</strong>时 令 k (0 &lt;&#x3D; k &lt; l) 为最小使得 s[i + k] !&#x3D; s[j + k] 的整数</p>
<p>k 存在时 若 s[i + k] &gt; s[j + k]</p>
<p>那么对于任意的**x (i &lt;&#x3D; x &lt;&#x3D; i + k)**都是不可能等于p的因为对于这些 x 都有对应的 y (j &lt;&#x3D; y &lt;&#x3D; j + k) 使得**s[x, i + k) &#x3D;&#x3D; s[y, j + k) &amp;&amp; s[i + k] &gt; s[j + k]**那么以 y 为起始位置的串肯定是小于以 x 为起始位置的串的 那么就可以令 i &#x3D; i + k + 1继续这个过程了 s[i + k] &lt; s[j + k] 时同理可令 j &#x3D; j + k + 1 注意若前进后i &#x3D;&#x3D; j 需要令 j &#x3D; j + 1 因为要保证i !&#x3D; j</p>
<p>重复上面的过程直到 i &gt;&#x3D; l || j &gt;&#x3D; l || k不存在 此时 i, j 中小的那个数就是答案了 因为小的那个数前后所有都已经被确定不可能为 p</p>
<p>开始时不妨令i &#x3D; 0, j &#x3D; 1 p &gt; 0 时是符合上面的条件的 p &#x3D;&#x3D; 0 时可以发现 i 会保持0不变 j 一直前进直到 j &gt; l 或 k 不存在</p>
<p>那么令 i &#x3D; 0, j &#x3D; 1 然后通过上面的过程就能得到最小表示法对应的位置了 同理也可以得到最大表示法对应的位置</p>
<p>至于求等价位置的个数 只要知道这个串是某个串循环了多少次就行了 通过kmp的l - next[l]表示最小循环节的长度就可以求出来</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.<span class="property">h</span>&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">2000005</span>;</span><br><span class="line">int nex[N], l;</span><br><span class="line">char s[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">getNext</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int i = <span class="number">0</span>, j = nex[<span class="number">0</span>] = -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; l)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(j == -<span class="number">1</span> || s[i] == s[j])</span><br><span class="line">            nex[++i] = ++j;</span><br><span class="line">        <span class="keyword">else</span> j = nex[j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">getPos</span>(bool op) <span class="comment">//op = 0最小表示法  op = 1 最大表示法</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">strncpy</span>(s + l, s, l);</span><br><span class="line">    int i = <span class="number">0</span>, j = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(i &lt; l &amp;&amp; j &lt; l)</span><br><span class="line">    &#123;</span><br><span class="line">        int k = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span>(k &lt; l &amp;&amp; s[i + k] == s[j + k]) ++k;</span><br><span class="line">        <span class="keyword">if</span>(k &gt;= l) <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">if</span>((s[i + k] &gt; s[j + k]) ^ op) i += k + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> j += k + <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span>(i == j) ++j;  <span class="comment">//保证i != j</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i &lt; j ? i : j;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="title function_">scanf</span>(<span class="string">&quot;%s&quot;</span>, s))</span><br><span class="line">    &#123;</span><br><span class="line">        l = <span class="title function_">strlen</span>(s);</span><br><span class="line">        <span class="title function_">getNext</span>();</span><br><span class="line">        int rl = l - nex[l], t = l % rl ? <span class="number">1</span> : l / rl;</span><br><span class="line">        int p0 = <span class="title function_">getPos</span>(<span class="number">0</span>) + <span class="number">1</span>, p1 = <span class="title function_">getPos</span>(<span class="number">1</span>) + <span class="number">1</span>;</span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;%d %d %d %d\n&quot;</span>, p0, t, p1, t);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Last modified :  2015-10-06 09:30 CST</span></span><br></pre></td></tr></table></figure>

<h1 id="String-Problem"><a href="#String-Problem" class="headerlink" title="String Problem"></a>String Problem</h1><p>Problem Description</p>
<p>Give you a string with length N, you can generate N strings by left shifts. For example let consider the string “SKYLONG”, we can generate seven strings:<br>String Rank<br>SKYLONG 1<br>KYLONGS 2<br>YLONGSK 3<br>LONGSKY 4<br>ONGSKYL 5<br>NGSKYLO 6<br>GSKYLON 7<br>and lexicographically first of them is GSKYLON, lexicographically last is YLONGSK, both of them appear only once.<br>Your task is easy, calculate the lexicographically fisrt string’s Rank (if there are multiple answers, choose the smallest one), its times, lexicographically last string’s Rank (if there are multiple answers, choose the smallest one), and its times also.<br>Input</p>
<p>Each line contains one line the string S with length N (N &lt;&#x3D; 1000000) formed by lower case letters.<br>Output</p>
<p>Output four integers separated by one space, lexicographically fisrt string’s Rank (if there are multiple answers, choose the smallest one), the string’s times in the N generated strings, lexicographically last string’s Rank (if there are multiple answers, choose the smallest one), and its times also.<br>Sample Input</p>
<p>abcder aaaaaa ababab<br>Sample Output</p>
<p>1 1 6 1 1 6 1 6 1 3 2 3<br>Author</p>
<p>WhereIsHeroFrom</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/string/HDU%202328%20Corporate%20Identity%EF%BC%88Trie%C2%B7%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E4%B8%B2%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/string/HDU%202328%20Corporate%20Identity%EF%BC%88Trie%C2%B7%E6%9C%80%E9%95%BF%E5%85%AC%E5%85%B1%E5%AD%90%E4%B8%B2%EF%BC%89/" class="post-title-link" itemprop="url">HDU 2328 Corporate Identity（Trie·最长公共子串）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-10-05 16:03:25" itemprop="dateCreated datePublished" datetime="2015-10-05T16:03:25+00:00">2015-10-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/String/" itemprop="url" rel="index"><span itemprop="name">String</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 输出n个串的字典序最小的最长公共子串</p>
<p>可以枚举第一个串的所有子串 然后对每个串kmp匹配 比较复杂 而且慢 发现和HDU2846（求模式串在n个串中出现的次数）有类似之处 都可以用Trie来处理 一个串的子串肯定是其某个后缀的前缀 我们把第一个串的所有后缀都插入到Trie中 最长公共子串肯定是在这个Trie里面的 因为它肯定是第一个串的子串 在插入后面的串的后缀时 可以发现</p>
<ol>
<li><p>对于在第一个串中没有的节点是可以直接break的 在第一个串中都没有怎么会是公共的呢</p>
</li>
<li><p>当前前缀在前面i个串中出现的次数小于i 那么也可以break了 因为肯定有某些串已经不包含这个前缀了</p>
</li>
</ol>
<p>所以我们后面的插入只用基于第一次插入的Trie就行了 插入最后一个串的后缀时取插入长度最长的串就是答案了</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;bits/stdc++.<span class="property">h</span>&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">30005</span>;</span><br><span class="line">int trie[N][<span class="number">26</span>], cnt[N], L;</span><br><span class="line">char s[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">initTrie</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    L = <span class="number">1</span>;</span><br><span class="line">    <span class="title function_">memset</span>(cnt, <span class="number">0</span>, <span class="title function_">sizeof</span>(cnt));</span><br><span class="line">    <span class="title function_">memset</span>(trie, <span class="number">0</span>, <span class="title function_">sizeof</span>(trie));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">insertTrie</span>(<span class="params">char s[], int id</span>)</span><br><span class="line">&#123;</span><br><span class="line">    int r = <span class="number">0</span>, i = <span class="number">0</span>, len = <span class="number">0</span>, j;</span><br><span class="line">    <span class="keyword">while</span>(s[i])</span><br><span class="line">    &#123;</span><br><span class="line">        j = s[i++] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">        <span class="keyword">if</span>(!trie[r][j])</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(id == <span class="number">1</span>) trie[r][j] = L++;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">break</span>;  <span class="comment">//在第一个串中都没有的就不用管了</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        r = trie[r][j];</span><br><span class="line">        <span class="keyword">if</span>(cnt[r] + <span class="number">1</span> &gt;= id) cnt[r] = id;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">break</span>;  <span class="comment">//当前前缀出现过的次数小于id说明该前缀不是前面某些串的子串 不用再往前看</span></span><br><span class="line">        ++len;   <span class="comment">//当前前缀的长度</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int n;</span><br><span class="line">    <span class="keyword">while</span>(<span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n), n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title function_">initTrie</span>(); <span class="comment">//初始化Trie</span></span><br><span class="line">        int len = <span class="number">0</span>;</span><br><span class="line">        char ans[N] = <span class="string">&quot;IDENTITY LOST&quot;</span>, t[N];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt;= n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; s[j]; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                int k = <span class="title function_">insertTrie</span>(s + j, i);</span><br><span class="line">                <span class="keyword">if</span>(!k || i &lt; n) <span class="keyword">continue</span>; <span class="comment">//插入最后一一个串时才需要处理</span></span><br><span class="line"></span><br><span class="line">                <span class="title function_">strncpy</span>(t, s + j, k), t[k] = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(k &gt; len || (k == len &amp;&amp; <span class="title function_">strcmp</span>(ans, t) &gt; <span class="number">0</span>))</span><br><span class="line">                    <span class="title function_">strcpy</span>(ans, t), len = k;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">puts</span>(ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Last modified :  2015-10-05 15:50 CST</span></span><br></pre></td></tr></table></figure>

<h1 id="Corporate-Identity"><a href="#Corporate-Identity" class="headerlink" title="Corporate Identity"></a>Corporate Identity</h1><p>Problem Description</p>
<p>Beside other services, ACM helps companies to clearly state their “corporate identity”, which includes company logo but also other signs, like trademarks. One of such companies is Internet Building Masters (IBM), which has recently asked ACM for a help with their new identity. IBM do not want to change their existing logos and trademarks completely, because their customers are used to the old ones. Therefore, ACM will only change existing trademarks instead of creating new ones.<br>After several other proposals, it was decided to take all existing trademarks and find the longest common sequence of letters that is contained in all of them. This sequence will be graphically emphasized to form a new logo. Then, the old trademarks may still be used while showing the new identity.<br>Your task is to find such a sequence.<br>Input</p>
<p>The input contains several tasks. Each task begins with a line containing a positive integer N, the number of trademarks (2 ≤ N ≤ 4000). The number is followed by N lines, each containing one trademark. Trademarks will be composed only from lowercase letters, the length of each trademark will be at least 1 and at most 200 characters.<br>After the last trademark, the next task begins. The last task is followed by a line containing zero.<br>Output</p>
<p>For each task, output a single line containing the longest string contained as a substring in all trademarks. If there are several strings of the same length, print the one that is lexicographically smallest. If there is no such non-empty string, output the words “IDENTITY LOST” instead.<br>Sample Input</p>
<p>3 aabbaabb abbababb bbbbbabb 2 xyz abc 0<br>Sample Output</p>
<p>abb IDENTITY LOST</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/dp/HDU%201074%20Doing%20Homework%EF%BC%88DP%C2%B7%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/dp/HDU%201074%20Doing%20Homework%EF%BC%88DP%C2%B7%E7%8A%B6%E6%80%81%E5%8E%8B%E7%BC%A9%EF%BC%89/" class="post-title-link" itemprop="url">HDU 1074 Doing Homework（DP·状态压缩）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-08-28 14:47:03" itemprop="dateCreated datePublished" datetime="2015-08-28T14:47:03+00:00">2015-08-28</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/DP/" itemprop="url" rel="index"><span itemprop="name">DP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 有n个作业要做 给你每个作业的最后期限 和做完这个作业需要的时间 作业每超过最后期限一天就会扣一分 只能把一个作业做完了再做另一个作业 问做完所有作业至少扣多少分</p>
<p>作业最多只有15个 看到这个数字容易想到是状态压缩 dp[i]表示i对应状态的最小扣分 i转换为二进制后为1的位表明该位对应的作业已经做了 为0的位没做 那么dp[i] &#x3D; min{dp[k] + cost |k为将某一位变成1后等于 i 的状态}</p>
<p>由于要打印路径 所有还需要记录每个状态的上一个状态pre</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">16</span>, M = <span class="number">1</span> &lt;&lt; N;</span><br><span class="line">int d[N], c[N], n;</span><br><span class="line">int dp[M], pre[M], t[M];</span><br><span class="line">char s[N][<span class="number">105</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">print</span>(<span class="params">int k</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == <span class="number">0</span>) <span class="keyword">return</span>;</span><br><span class="line">    <span class="title function_">print</span>(pre[k]);</span><br><span class="line">    k -= pre[k];</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">if</span>(k &amp; <span class="number">1</span> &lt;&lt; i) <span class="title function_">puts</span>(s[i]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int T, m, cost;</span><br><span class="line">    <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;T);</span><br><span class="line">    <span class="keyword">while</span>(T--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%s%d%d&quot;</span>, s[i], &amp;d[i], &amp;c[i]);</span><br><span class="line">        <span class="title function_">memset</span>(dp, <span class="number">0x3f</span>, <span class="title function_">sizeof</span>(dp));</span><br><span class="line">        dp[<span class="number">0</span>] = t[<span class="number">0</span>] = <span class="number">0</span>;  <span class="comment">//边界 所有作业都没做的扣分为0</span></span><br><span class="line">        m = <span class="number">1</span> &lt;&lt; n;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt; m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; n; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((i &amp; <span class="number">1</span> &lt;&lt; j) == <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                int k = i - (<span class="number">1</span> &lt;&lt; j);</span><br><span class="line">                t[i] = t[k] + c[j];</span><br><span class="line">                cost = t[i] &gt; d[j] ? t[i] - d[j] : <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span>(dp[k] + cost &lt;= dp[i])  <span class="comment">//&#x27;=&#x27;保证字典序最小</span></span><br><span class="line">                &#123;</span><br><span class="line">                    dp[i] = dp[k] + cost;</span><br><span class="line">                    pre[i] =  k;  <span class="comment">//记录路径</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;%d\n&quot;</span>, dp[m - <span class="number">1</span>]);</span><br><span class="line">        <span class="title function_">print</span>(m - <span class="number">1</span>);  <span class="comment">//打印路径</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Doing-Homework"><a href="#Doing-Homework" class="headerlink" title="Doing Homework"></a>Doing Homework</h1><p>Problem Description</p>
<p>Ignatius has just come back school from the 30th ACM&#x2F;ICPC. Now he has a lot of homework to do. Every teacher gives him a deadline of handing in the homework. If Ignatius hands in the homework after the deadline, the teacher will reduce his score of the final test, 1 day for 1 point. And as you know, doing homework always takes a long time. So Ignatius wants you to help him to arrange the order of doing homework to minimize the reduced score.<br>Input</p>
<p>The input contains several test cases. The first line of the input is a single integer T which is the number of test cases. T test cases follow.<br>Each test case start with a positive integer N(1&lt;&#x3D;N&lt;&#x3D;15) which indicate the number of homework. Then N lines follow. Each line contains a string S(the subject’s name, each string will at most has 100 characters) and two integers D(the deadline of the subject), C(how many days will it take Ignatius to finish this subject’s homework).<br>Note: All the subject names are given in the alphabet increasing order. So you may process the problem much easier.<br>Output</p>
<p>For each test case, you should output the smallest total reduced score, then give out the order of the subjects, one subject in a line. If there are more than one orders, you should output the alphabet smallest one.<br>Sample Input</p>
<p>2 3 Computer 3 3 English 20 1 Math 3 2 3 Computer 3 3 English 6 3 Math 6 3<br>Sample Output</p>
<p>2 Computer Math English 3 Computer English Math</p>
<p><em>Hint</em> In the second test case, both Computer-&gt;English-&gt;Math and Computer-&gt;Math-&gt;English leads to reduce 3 points, but the word “English” appears earlier than the word “Math”, so we choose the first order. That is so-called alphabet order.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/dp/HDU%201024%20Max%20Sum%20Plus%20Plus%20(DP%C2%B7%E6%BB%9A%E5%8A%A8%E6%95%B0%E7%BB%84)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/dp/HDU%201024%20Max%20Sum%20Plus%20Plus%20(DP%C2%B7%E6%BB%9A%E5%8A%A8%E6%95%B0%E7%BB%84)/" class="post-title-link" itemprop="url">HDU 1024 Max Sum Plus Plus (DP·滚动数组)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-08-27 10:02:55" itemprop="dateCreated datePublished" datetime="2015-08-27T10:02:55+00:00">2015-08-27</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/DP/" itemprop="url" rel="index"><span itemprop="name">DP</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 从n个数的数组中选出不相交的m段 求被选数的和的最大值</p>
<p>Max Sum 的升级版 不只是要选一段连续的了 而是选m段 思想还是类似 依旧dp</p>
<p>状态和状态转移方程不是很难想 在 Max Sum 这个问题中 dp[i] 表示的是以第i个数结尾的一段的 Max Sum 由于这里还有一个多少段的状态 于是这里令 dp[i][j] 表示在前 i 个数中选取 j 组 且第 i 个数在最后一组中的 Max Sum Plus Plus</p>
<p>那么现在对于第i个数有两种决策</p>
<p>1, 第 i 个数和第 i-1 个数连接成一段<strong>dp[i][j] &#x3D; dp[i-1][j] + a[i]</strong></p>
<p>2, 第 i 个数自己单独做一段 那么前面就需要有 j-1 段<strong>dp[i][j] &#x3D; max{dp[k][j-1] | j - 1&lt;&#x3D; k &lt; i} + a[i]</strong></p>
<p>那么也就有了状态转移方程<strong>dp[i][j] &#x3D; max(dp[i-1][j], max{dp[k][j-1] | j - 1&lt;&#x3D; k &lt; i}) + a[i];</strong></p>
<p>有了方程就可以写了呀 我们先不考虑复杂度问题 假设时间空间都是无限的 恩 无限的</p>
<p>那么很容易有下面的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">10005</span>, <span class="variable constant_">INF</span> = <span class="number">1e9</span>;</span><br><span class="line">int a[N], dp[N][N];</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int n, m;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="title function_">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;m, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">        <span class="title function_">memset</span>(dp, <span class="number">0</span>, sizeof dp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//dp[i][j] 表示前i个数第i个数被选 选j组的Max Sum Plus Plus</span></span><br><span class="line">        <span class="comment">//dp[i][j] = max(dp[i-1][j], max&#123;dp[k][j-1], j - 1 &lt;= k &lt; i&#125;) + a[i]</span></span><br><span class="line">        int ans = -<span class="variable constant_">INF</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(int i = j; i &lt;= n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                dp[i][j] = i - <span class="number">1</span> &lt; j ? -<span class="variable constant_">INF</span> : dp[i - <span class="number">1</span>][j]; <span class="comment">//i-1 &lt; j时dp[i - 1][j]是没意义的</span></span><br><span class="line">                <span class="keyword">for</span>(int k = j - <span class="number">1</span>; k &lt; i; ++k)</span><br><span class="line">                    dp[i][j] = <span class="title function_">max</span>(dp[i][j], dp[k][j - <span class="number">1</span>]);</span><br><span class="line">                dp[i][j] += a[i];</span><br><span class="line">                <span class="keyword">if</span>(j == m) ans = <span class="title function_">max</span>(ans, dp[i][j]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可是并不是无限的呀 上面这个时间复杂度0(n&#x2F;*n&#x2F;*m) 空间复杂度O(n&#x2F;*n) n高达1000000 简直可怕</p>
<p>再来看看转移方程<strong>dp[i][j] &#x3D; max(dp[i-1][j],max{dp[k][j-1] | j - 1&lt;&#x3D; k &lt; i}) + a[i];</strong></p>
<p>发现更新 dp[i][j] 的时候只用到了 dp[.][j] 和 dp[.][j-1] 里面的值 也就是 dp[.][0~j-2] 都已经没用了 那也就不用存这些没用的了 也就是j只用开两维就够了 也就是所谓的滚动数组了 用 dp[.][1] 和 dp[.][0] 来轮换表示 dp[.][j] 和 dp[.][j-1] 这样空间复杂度就降到了O(n) 这是可以接受的 那么有空间优化后的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">1000005</span>, <span class="variable constant_">INF</span> = <span class="number">1e9</span>;</span><br><span class="line">int a[N], dp[N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int n, m;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="title function_">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;m, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">        <span class="title function_">memset</span>(dp, <span class="number">0</span>, sizeof dp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//dp[i][j] 表示前i个数第i个数被选 选j组的Max Sum Plus Plus</span></span><br><span class="line">        <span class="comment">//dp[i][j] = max(dp[i-1][j], max&#123;dp[k][j-1], j - 1 &lt;= k &lt; i&#125;) + a[i]</span></span><br><span class="line">        int ans = -<span class="variable constant_">INF</span>, j0 = <span class="number">0</span>, j1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(int i = j; i &lt;= n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//dp[i][j0]存的是dp[i][j-1]的值 dp[i][j1] 存的是dp[i][j]的值</span></span><br><span class="line">                dp[i][j1] = i - <span class="number">1</span> &lt; j ? -<span class="variable constant_">INF</span> : dp[i - <span class="number">1</span>][j1]; <span class="comment">//i-1 &lt; j时dp[i - 1][j]是没意义的</span></span><br><span class="line">                <span class="keyword">for</span>(int k = j - <span class="number">1</span>; k &lt; i; ++k)</span><br><span class="line">                    dp[i][j1] = <span class="title function_">max</span>(dp[i][j1], dp[k][j0]);</span><br><span class="line">                dp[i][j1] += a[i];</span><br><span class="line">                <span class="keyword">if</span>(j == m) ans = <span class="title function_">max</span>(ans, dp[i][j1]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">swap</span>(j0, j1); <span class="comment">//滚动数组交换0, 1  因为这轮的j在下轮就变成j - 1了</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>现在空间问题解决了 那么时间问题呢 来看这段代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;span style=<span class="string">&quot;white-space:pre&quot;</span>&gt;	&lt;/span&gt;<span class="keyword">for</span>(int j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">      &lt;span style=<span class="string">&quot;white-space:pre&quot;</span>&gt;	&lt;/span&gt;&#123;</span><br><span class="line">            <span class="keyword">for</span>(int i = j; i &lt;= n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//</span></span><br><span class="line">                dp[i][j1] = i - <span class="number">1</span> &lt; j ? -<span class="variable constant_">INF</span> : dp[i - <span class="number">1</span>][j1]; <span class="comment">//</span></span><br><span class="line">                <span class="keyword">for</span>(int k = j - <span class="number">1</span>; k &lt; i; ++k)</span><br><span class="line">                    dp[i][j1] = <span class="title function_">max</span>(dp[i][j1], dp[k][j0]); <span class="comment">//这轮循环只比上轮多了个dp[i-1][j0]！！！</span></span><br><span class="line">                dp[i][j1] += a[i];</span><br><span class="line">                <span class="keyword">if</span>(j == m) ans = <span class="title function_">max</span>(ans, dp[i][j1]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">swap</span>(j0, j1); <span class="comment">//</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
<p>看注释部分！！！ 这轮只比上轮多了一个数 我还循环那么多是什么鬼 把上轮的值 ma 记录下来 这轮只用和 dp[i-1][j0] 比较一下就行了 那么就有了可以ac的代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">1000005</span>, <span class="variable constant_">INF</span> = <span class="number">1e9</span>;</span><br><span class="line">int a[N], dp[N][<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int n, m;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="title function_">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;m, &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;a[i]);</span><br><span class="line">        <span class="title function_">memset</span>(dp, <span class="number">0</span>, sizeof dp);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//dp[i][j] 表示前i个数第i个数被选 选j组的Max Sum Plus Plus</span></span><br><span class="line">        <span class="comment">//dp[i][j] = max(dp[i-1][j], max&#123;dp[k][j-1], j - 1 &lt;= k &lt; i&#125;) + a[i]</span></span><br><span class="line">        int ans = -<span class="variable constant_">INF</span>, j0 = <span class="number">0</span>, j1 = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(int j = <span class="number">1</span>; j &lt;= m; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            int ma = dp[j - <span class="number">1</span>][j1] = -<span class="variable constant_">INF</span>; <span class="comment">//dp[j - 1][j]是没意义的</span></span><br><span class="line">            <span class="keyword">for</span>(int i = j; i &lt;= n; i++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//dp[i][j0]存的是dp[i][j-1]的值 dp[i][j1]存的是dp[i][j]的值</span></span><br><span class="line">                ma = <span class="title function_">max</span>(ma, dp[i - <span class="number">1</span>][j0]); <span class="comment">//ma维护max&#123;dp[k][j-1], j - 1 &lt;= k &lt; i&#125;</span></span><br><span class="line">                dp[i][j1] = <span class="title function_">max</span>(dp[i - <span class="number">1</span>][j1], ma) + a[i];</span><br><span class="line">                <span class="keyword">if</span>(j == m) ans = <span class="title function_">max</span>(ans, dp[i][j1]);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="title function_">swap</span>(j0, j1); <span class="comment">//滚动数组交换0, 1  因为这轮的j在下轮就变成j - 1了</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;%d\n&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Max-Sum-Plus-Plus"><a href="#Max-Sum-Plus-Plus" class="headerlink" title="Max Sum Plus Plus"></a>Max Sum Plus Plus</h1><p>Problem Description</p>
<p>Now I think you have got an AC in Ignatius.L’s “Max Sum” problem. To be a brave ACMer, we always challenge ourselves to more difficult problems. Now you are faced with a more difficult problem.<br>Given a consecutive number sequence S <em>1</em>, S <em>2</em>, S <em>3</em>, S <em>4</em> … S <em>x</em>, … S <em>n</em> (1 ≤ x ≤ n ≤ 1,000,000, -32768 ≤ S <em>x</em> ≤ 32767). We define a function sum(i, j) &#x3D; S <em>i</em> + … + S <em>j</em> (1 ≤ i ≤ j ≤ n).<br>Now given an integer m (m &gt; 0), your task is to find m pairs of i and j which make sum(i <em>1</em>, j <em>1</em>) + sum(i <em>2</em>, j <em>2</em>) + sum(i <em>3</em>, j <em>3</em>) + … + sum(i <em>m</em>, j <em>m</em>) maximal (i <em>x</em> ≤ i <em>y</em> ≤ j <em>x</em> or i <em>x</em> ≤ j <em>y</em> ≤ j <em>x</em> is not allowed).<br>But I&#96;m lazy, I don’t want to write a special-judge module, so you don’t have to output m pairs of i and j, just output the maximal summation of sum(i <em>x</em>, j <em>x</em>)(1 ≤ x ≤ m) instead. ^_^<br>Input</p>
<p>Each test case will begin with two integers m and n, followed by n integers S <em>1</em>, S <em>2</em>, S <em>3</em> … S <em>n</em>.<br>Process to the end of file.<br>Output</p>
<p>Output the maximal summation described above in one line.<br>Sample Input</p>
<p>1 3 1 2 3 2 6 -1 4 -2 3 -2 3<br>Sample Output</p>
<p>6 8</p>
<p><em>Hint</em> Huge input, scanf and dynamic programming is recommended.<br>Author</p>
<p>JGShining（极光炫影）</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/graph/POJ%201128%20Frame%20Stacking%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E6%89%93%E5%8D%B0%E5%AD%97%E5%85%B8%E5%BA%8F%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/graph/POJ%201128%20Frame%20Stacking%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E6%89%93%E5%8D%B0%E5%AD%97%E5%85%B8%E5%BA%8F%EF%BC%89/" class="post-title-link" itemprop="url">POJ 1128 Frame Stacking（拓扑排序·打印字典序）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-08-20 10:29:13" itemprop="dateCreated datePublished" datetime="2015-08-20T10:29:13+00:00">2015-08-20</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/Graph/" itemprop="url" rel="index"><span itemprop="name">Graph</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 给你一些矩形框堆叠后的俯视图 判断这些矩形框的堆叠顺序 每个矩形框满足每边都至少有一个点可见 输入保证至少有一个解 按字典序输出所有可行解</p>
<p>和上一题有点像 只是这个要打印所有的可行方案 建图还是类似 因为每个矩形框的四边都有点可见 所以每个矩形框的左上角和右下角的坐标是可以确定的 然后一个矩形框上有其它字符时 就让这个矩形框对应的字符和那个其它字符建立一个小于关系 由于要打印方案 所以在有多个入度为0的点时需要用DFS对每种选择都进行一遍拓扑排序</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">50</span>;</span><br><span class="line">char ans[N], g[N][N], tp[N][N];</span><br><span class="line">int x1[N], y1[N], x2[N], y2[N];</span><br><span class="line"><span class="comment">//(x1,y1)为对应字母的左上角坐标  (x2,y2)为右下</span></span><br><span class="line">int <span class="keyword">in</span>[N], n;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addTopo</span>(<span class="params">int i, int j, int c</span>)</span><br><span class="line">&#123;</span><br><span class="line">    int t = g[i][j] - <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(t != c &amp;&amp; !tp[c][t])</span><br><span class="line">    &#123;</span><br><span class="line">        ++<span class="keyword">in</span>[t];</span><br><span class="line">        tp[c][t] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">build</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">memset</span>(tp, <span class="number">0</span>, <span class="title function_">sizeof</span>(tp)); <span class="comment">//tp[i][j] = 1表示有i &lt; j的关系</span></span><br><span class="line">    <span class="keyword">for</span>(int c = n = <span class="number">0</span>; c &lt; <span class="number">26</span>; ++c)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">in</span>[c] &lt; <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">for</span>(int i = x1[c]; i &lt;= x2[c]; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">addTopo</span>(i, y1[c], c);</span><br><span class="line">            <span class="title function_">addTopo</span>(i, y2[c], c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span>(int j = y1[c]; j &lt;= y2[c]; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">addTopo</span>(x1[c], j, c);</span><br><span class="line">            <span class="title function_">addTopo</span>(x2[c], j, c);</span><br><span class="line">        &#125;</span><br><span class="line">        ++n;<span class="comment">//统计出现了多少个字符</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">topoSort</span>(<span class="params">int k</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(k == n)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[k] = <span class="number">0</span>;</span><br><span class="line">        <span class="title function_">puts</span>(ans);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从前往后找入度为0的点保证升序</span></span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">in</span>[i] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            ans[k] = i + <span class="string">&#x27;A&#x27;</span>; <span class="comment">//这一位放i</span></span><br><span class="line">            <span class="keyword">in</span>[i] = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; <span class="number">26</span>; ++j)</span><br><span class="line">                <span class="keyword">if</span>(tp[i][j]) --<span class="keyword">in</span>[j];</span><br><span class="line"></span><br><span class="line">            <span class="title function_">topoSort</span>(k + <span class="number">1</span>); <span class="comment">//找下一位</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">in</span>[i] = <span class="number">0</span>; <span class="comment">//回溯</span></span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; <span class="number">26</span>; ++j)</span><br><span class="line">                <span class="keyword">if</span>(tp[i][j]) ++<span class="keyword">in</span>[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    int h, w, c;</span><br><span class="line">    <span class="keyword">while</span>(~<span class="title function_">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;h, &amp;w))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; <span class="number">26</span>; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            x1[i] = y1[i] = N;</span><br><span class="line">            x2[i] = y2[i] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">memset</span>(<span class="keyword">in</span>, -<span class="number">1</span>, <span class="title function_">sizeof</span>(<span class="keyword">in</span>));</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; h; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot;%s&quot;</span>, g[i]);</span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; w; ++j)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span>((c = g[i][j] - <span class="string">&#x27;A&#x27;</span>) &lt; <span class="number">0</span>) <span class="keyword">continue</span>; <span class="comment">//g[i][j] =&#x27;.&#x27;</span></span><br><span class="line">                <span class="keyword">if</span>(i &lt; x1[c]) x1[c] = i;</span><br><span class="line">                <span class="keyword">if</span>(i &gt; x2[c]) x2[c] = i;</span><br><span class="line">                <span class="keyword">if</span>(j &lt; y1[c]) y1[c] = j;</span><br><span class="line">                <span class="keyword">if</span>(j &gt; y2[c]) y2[c] = j;</span><br><span class="line">                <span class="keyword">in</span>[c] = <span class="number">0</span>;  <span class="comment">//出现过的字母in初始为0  否则为-1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">build</span>();</span><br><span class="line">        <span class="title function_">topoSort</span>(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Frame Stacking</p>
<p>Description<br>Consider the following 5 picture frames placed on an 9 x 8 array.<br>…….. …….. …….. …….. .CCC…. EEEEEE.. …….. …….. ..BBBB.. .C.C…. E….E.. DDDDDD.. …….. ..B..B.. .C.C…. E….E.. D….D.. …….. ..B..B.. .CCC…. E….E.. D….D.. ….AAAA ..B..B.. …….. E….E.. D….D.. ….A..A ..BBBB.. …….. E….E.. DDDDDD.. ….A..A …….. …….. E….E.. …….. ….AAAA …….. …….. EEEEEE.. …….. …….. …….. …….. 1 2 3 4 5<br>Now place them on top of one another starting with 1 at the bottom and ending up with 5 on top. If any part of a frame covers another it hides that part of the frame below.<br>Viewing the stack of 5 frames we see the following.<br>.CCC…. ECBCBB.. DCBCDB.. DCCC.B.. D.B.ABAA D.BBBB.A DDDDAD.A E…AAAA EEEEEE..<br>In what order are the frames stacked from bottom to top? The answer is EDABC.<br>Your problem is to determine the order in which the frames are stacked from bottom to top given a picture of the stacked frames. Here are the rules:</p>
<ol>
<li>The width of the frame is always exactly 1 character and the sides are never shorter than 3 characters.</li>
<li>It is possible to see at least one part of each of the four sides of a frame. A corner shows two sides.</li>
<li>The frames will be lettered with capital letters, and no two frames will be assigned the same letter.</li>
</ol>
<p>Input</p>
<p>Each input block contains the height, h (h&lt;&#x3D;30) on the first line and the width w (w&lt;&#x3D;30) on the second. A picture of the stacked frames is then given as h strings with w characters each.<br>Your input may contain multiple blocks of the format described above, without any blank lines in between. All blocks in the input must be processed sequentially.</p>
<p>Output</p>
<p>Write the solution to the standard output. Give the letters of the frames in the order they were stacked from bottom to top. If there are multiple possibilities for an ordering, list all such possibilities in alphabetical order, each one on a separate line. There will always be at least one legal ordering for each input block. List the output for all blocks in the input sequentially, without any blank lines (not even between blocks).</p>
<p>Sample Input</p>
<p>9 8 .CCC…. ECBCBB.. DCBCDB.. DCCC.B.. D.B.ABAA D.BBBB.A DDDDAD.A E…AAAA EEEEEE..</p>
<p>Sample Output</p>
<p>EDABC</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/graph/POJ%202585%20Window%20Pains%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E7%AA%97%E5%8F%A3%E8%A6%86%E7%9B%96%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/graph/POJ%202585%20Window%20Pains%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E7%AA%97%E5%8F%A3%E8%A6%86%E7%9B%96%EF%BC%89/" class="post-title-link" itemprop="url">POJ 2585 Window Pains（拓扑排序·窗口覆盖）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-08-19 16:11:44" itemprop="dateCreated datePublished" datetime="2015-08-19T16:11:44+00:00">2015-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/Graph/" itemprop="url" rel="index"><span itemprop="name">Graph</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 有一个4&#x2F;*4的显示器 有9个程序 每个程序占2&#x2F;*2个格子 他们的位置如图所示 当你运行某个程序时 这个程序就会显示在顶层覆盖其它的程序 给你某个时刻显示器的截图 判断此时电脑是否死机了（出现了不合法的覆盖关系）</p>
<p>拓扑排序的应用 关键是建图 当一个程序A的区域上有其它程序B时 说明A是在B之前运行的 那么我们可以建立一个A&lt;B的拓扑关系 最后判断是否有环就行了 个人认为下标换为0操作起来比较方便 所以都还为了0</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">10</span>;</span><br><span class="line">int g[N][N], <span class="keyword">in</span>[N], q[N];</span><br><span class="line">vector&lt;int&gt; e[N];</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">build</span>() <span class="comment">//建图</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">memset</span>(<span class="keyword">in</span>, <span class="number">0</span>, <span class="title function_">sizeof</span>(<span class="keyword">in</span>));</span><br><span class="line">    <span class="keyword">for</span>(int k = <span class="number">0</span>; k &lt; <span class="number">9</span>; ++k)</span><br><span class="line">    &#123;</span><br><span class="line">        e[k].<span class="title function_">clear</span>();</span><br><span class="line">        int i = k / <span class="number">3</span>, j = k % <span class="number">3</span>, t; <span class="comment">//获取程序k的左上角坐标</span></span><br><span class="line">        <span class="keyword">for</span>(int x = <span class="number">0</span>; x &lt; <span class="number">2</span>; ++x)</span><br><span class="line">        <span class="keyword">for</span>(int y = <span class="number">0</span>; y &lt; <span class="number">2</span>; ++y)</span><br><span class="line">        &#123;</span><br><span class="line">            t = g[i + x][j + y];</span><br><span class="line">            <span class="keyword">if</span>(t != k) <span class="comment">//程序k在程序t之前运行 k &lt; t</span></span><br><span class="line">            &#123;</span><br><span class="line">                e[k].<span class="title function_">push_back</span>(t);</span><br><span class="line">                ++<span class="keyword">in</span>[t];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">bool <span class="title function_">topo</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="title function_">build</span>();</span><br><span class="line">    int front = <span class="number">0</span>, rear = <span class="number">0</span>, cur;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; <span class="number">9</span>; ++i)</span><br><span class="line">        <span class="keyword">if</span>(!<span class="keyword">in</span>[i]) q[rear++] = i;</span><br><span class="line">    <span class="keyword">while</span>(front &lt; rear)</span><br><span class="line">    &#123;</span><br><span class="line">        cur = q[front++];</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; e[cur].<span class="title function_">size</span>(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            int j = e[cur][i];</span><br><span class="line">            <span class="keyword">if</span>(!(--<span class="keyword">in</span>[j])) q[rear++] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> front &gt;= <span class="number">9</span>; <span class="comment">//front &lt; 9 时有环</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    char s[<span class="number">100</span>];</span><br><span class="line">    <span class="keyword">while</span>(<span class="title function_">scanf</span>(<span class="string">&quot;%s&quot;</span>, s), s[<span class="number">0</span>] != <span class="string">&#x27;E&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; <span class="number">4</span>; ++i)</span><br><span class="line">            <span class="keyword">for</span>(int j = <span class="number">0</span>; j &lt; <span class="number">4</span>; ++j)</span><br><span class="line">                <span class="title function_">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;g[i][j]), --g[i][j];</span><br><span class="line">        <span class="title function_">scanf</span>(<span class="string">&quot;%s&quot;</span>, s);</span><br><span class="line">        <span class="title function_">printf</span>(<span class="string">&quot;THESE WINDOWS ARE &quot;</span>);</span><br><span class="line">        <span class="title function_">puts</span>(<span class="title function_">topo</span>() ? <span class="string">&quot;CLEAN&quot;</span> : <span class="string">&quot;BROKEN&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Window Pains</p>
<p>Description<br>Boudreaux likes to multitask, especially when it comes to using his computer. Never satisfied with just running one application at a time, he usually runs nine applications, each in its own window. Due to limited screen real estate, he overlaps these windows and brings whatever window he currently needs to work with to the foreground. If his screen were a 4 x 4 grid of squares, each of Boudreaux’s windows would be represented by the following 2 x 2 windows:<br>1 1 . . 1 1 . . . . . . . . . . . 2 2 . . 2 2 . . . . . . . . . . . 3 3 . . 3 3 . . . . . . . . . . . . 4 4 . . 4 4 . . . . . . . . . . . 5 5 . . 5 5 . . . . . . . . . . . 6 6 . . 6 6 . . . . . . . . . . . . 7 7 . . 7 7 . . . . . . . . . . . 8 8 . . 8 8 . . . . . . . . . . . 9 9 . . 9 9 When Boudreaux brings a window to the foreground, all of its squares come to the top, overlapping any squares it shares with other windows. For example, if window 1 <em>and then</em>window 2 were brought to the foreground, the resulting representation would be: 1 2 2 ? 1 2 2 ? ? ? ? ? ? ? ? ? If window 4 were then brought to the foreground: 1 2 2 ? 4 4 2 ? 4 4 ? ? ? ? ? ? . . . and so on . . .<br>Unfortunately, Boudreaux’s computer is very unreliable and crashes often. He could easily tell if a crash occurred by looking at the windows and seeing a graphical representation that should not occur if windows were being brought to the foreground correctly. And this is where you come in . . .</p>
<p>Input</p>
<p>Input to this problem will consist of a (non-empty) series of up to 100 data sets. Each data set will be formatted according to the following description, and there will be no blank lines separating data sets.<br>A single data set has 3 components:</p>
<p>After the last data set, there will be a single line:<br>ENDOFINPUT<br>Note that each piece of visible window will appear only in screen areas where the window could appear when brought to the front. For instance, a 1 can only appear in the top left quadrant.</p>
<p>Output</p>
<p>For each data set, there will be exactly one line of output. If there exists a sequence of bringing windows to the foreground that would result in the graphical representation of the windows on Boudreaux’s screen, the output will be a single line with the statement:<br>THESE WINDOWS ARE CLEAN<br>Otherwise, the output will be a single line with the statement:<br>THESE WINDOWS ARE BROKEN</p>
<p>Sample Input</p>
<p>START 1 2 3 3 4 5 6 6 7 8 9 9 7 8 9 9 END START 1 1 3 3 4 1 3 3 7 7 9 9 7 7 9 9 END ENDOFINPUT</p>
<p>Sample Output</p>
<p>THESE WINDOWS ARE CLEAN THESE WINDOWS ARE BROKEN</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="http://blog.deng.cf/posts/oj/graph/POJ%201094%20Sorting%20It%20All%20Out%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E5%88%A4%E6%96%AD+%E5%AE%9E%E7%8E%B0%EF%BC%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/uploads/avatar.jpg">
      <meta itemprop="name" content="Deng">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="dd's site \#">
      <meta itemprop="description" content="Don't be evil.">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="undefined | dd's site \#">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/posts/oj/graph/POJ%201094%20Sorting%20It%20All%20Out%EF%BC%88%E6%8B%93%E6%89%91%E6%8E%92%E5%BA%8F%C2%B7%E5%88%A4%E6%96%AD+%E5%AE%9E%E7%8E%B0%EF%BC%89/" class="post-title-link" itemprop="url">POJ 1094 Sorting It All Out（拓扑排序·判断+实现）</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2015-08-19 14:59:12" itemprop="dateCreated datePublished" datetime="2015-08-19T14:59:12+00:00">2015-08-19</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/" itemprop="url" rel="index"><span itemprop="name">OJ</span></a>
        </span>
          , 
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/OJ/Graph/" itemprop="url" rel="index"><span itemprop="name">Graph</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>题意 由一些不同元素组成的升序序列是可以用若干个小于号将所有的元素按从小到大的顺序 排列起来的序列。例如，排序后的序列为 A, B, C, D，这意味着 A &lt; B、B &lt; C和C &lt; D。在本题中， 给定一组形如 A &lt; B的关系式，你的任务是判定是否存在一个有序序列。 输出到哪一项可以确定顺序或者在这一项最先出现冲突，若所有的小于关系都处理完了都不能确定顺序也没有出现冲突，就输出不能确定</p>
<p>每来一个小于关系就进行一次拓扑排序 直到出现冲突（也就是出现了环）或者已经能确定顺序 当结果已经确定时 后面的小于关系也就没有必要处理了 因此可以用一个flag标记结果是否已经确定</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"><span class="keyword">const</span> int N = <span class="number">30</span>;</span><br><span class="line">int n, m, <span class="keyword">in</span>[N];</span><br><span class="line">char ans[N], q[N];</span><br><span class="line">vector&lt;int&gt; e[N];</span><br><span class="line"></span><br><span class="line">int <span class="title function_">topoSort</span>() <span class="comment">//拓扑排序</span></span><br><span class="line">&#123;</span><br><span class="line">    int d[N], ret = <span class="number">1</span>;</span><br><span class="line">    <span class="title function_">memcpy</span>(d, <span class="keyword">in</span>, <span class="title function_">sizeof</span>(d));</span><br><span class="line">    int front  = <span class="number">0</span>, rear = <span class="number">0</span>, p = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; ++i)</span><br><span class="line">        <span class="keyword">if</span>(d[i] == <span class="number">0</span>) q[rear++] = i;</span><br><span class="line">    <span class="keyword">while</span>(front &lt; rear)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(rear - front &gt; <span class="number">1</span>) ret = <span class="number">0</span>; <span class="comment">//顺序不能确定</span></span><br><span class="line">        int cur = q[front++];</span><br><span class="line">        ans[p++] = <span class="string">&#x27;A&#x27;</span> + cur;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; e[cur].<span class="title function_">size</span>(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            int j = e[cur][i];</span><br><span class="line">            <span class="keyword">if</span>((--d[j]) == <span class="number">0</span>) q[rear++] = j;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(p &lt; n) <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">//有环</span></span><br><span class="line">    ans[p] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int <span class="title function_">main</span>(<span class="params"></span>)</span><br><span class="line">&#123;</span><br><span class="line">    char a, b;</span><br><span class="line">    <span class="keyword">while</span>(<span class="title function_">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m), n || m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; n; ++i) e[i].<span class="title function_">clear</span>();</span><br><span class="line">        <span class="title function_">memset</span>(<span class="keyword">in</span>, <span class="number">0</span>, <span class="title function_">sizeof</span>(<span class="keyword">in</span>));</span><br><span class="line">        int flag = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(int i = <span class="number">0</span>; i &lt; m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="title function_">scanf</span>(<span class="string">&quot; %c&lt;%c&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">            <span class="keyword">if</span>(flag) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            a -= <span class="string">&#x27;A&#x27;</span>, b -= <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">            e[a].<span class="title function_">push_back</span>(b);</span><br><span class="line">            ++<span class="keyword">in</span>[b];</span><br><span class="line">            flag = <span class="title function_">topoSort</span>();</span><br><span class="line">            <span class="keyword">if</span>(flag == <span class="number">1</span>)</span><br><span class="line">                <span class="title function_">printf</span>(<span class="string">&quot;Sorted sequence determined after %d relations: %s.\n&quot;</span>, i + <span class="number">1</span>, ans);</span><br><span class="line">            <span class="keyword">if</span>(flag == -<span class="number">1</span>)</span><br><span class="line">                <span class="title function_">printf</span>(<span class="string">&quot;Inconsistency found after %d relations.\n&quot;</span>, i + <span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(!flag) <span class="title function_">puts</span>(<span class="string">&quot;Sorted sequence cannot be determined.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Last modified :  2015-08-19 13:45 CST</span></span><br></pre></td></tr></table></figure>

<p>Sorting It All Out</p>
<p>Description<br>An ascending sorted sequence of distinct values is one in which some form of a less-than operator is used to order the elements from smallest to largest. For example, the sorted sequence A, B, C, D implies that A &lt; B, B &lt; C and C &lt; D. in this problem, we will give you a set of relations of the form A &lt; B and ask you to determine whether a sorted order has been specified or not.</p>
<p>Input</p>
<p>Input consists of multiple problem instances. Each instance starts with a line containing two positive integers n and m. the first value indicated the number of objects to sort, where 2 &lt;&#x3D; n &lt;&#x3D; 26. The objects to be sorted will be the first n characters of the uppercase alphabet. The second value m indicates the number of relations of the form A &lt; B which will be given in this problem instance. Next will be m lines, each containing one such relation consisting of three characters: an uppercase letter, the character “&lt;” and a second uppercase letter. No letter will be outside the range of the first n letters of the alphabet. Values of n &#x3D; m &#x3D; 0 indicate end of input.</p>
<p>Output</p>
<p>For each problem instance, output consists of one line. This line should be one of the following three:<br>Sorted sequence determined after xxx relations: yyy…y.<br>Sorted sequence cannot be determined.<br>Inconsistency found after xxx relations.<br>where xxx is the number of relations processed at the time either a sorted sequence is determined or an inconsistency is found, whichever comes first, and yyy…y is the sorted, ascending sequence.</p>
<p>Sample Input</p>
<p>4 6 A&lt;B A&lt;C B&lt;C C&lt;D B&lt;D A&lt;B 3 2 A&lt;B B&lt;A 26 1 A&lt;Z 0 0</p>
<p>Sample Output</p>
<p>Sorted sequence determined after 4 relations: ABCD. Inconsistency found after 2 relations. Sorted sequence cannot be determined.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" title="Previous page" aria-label="Previous page" href="/page/2/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/">27</a><a class="extend next" rel="next" title="Next page" aria-label="Next page" href="/page/4/"><i class="fa fa-angle-right"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 2013 – 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Deng</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/mist/" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/hexo-generator-searchdb/1.4.1/search.js" integrity="sha256-1kfA5uHPf65M5cphT2dvymhkuyHPQp5A53EGZOnOLmc=" crossorigin="anonymous"></script>
<script src="/js/third-party/search/local-search.js"></script>





  




  

  <script class="next-config" data-name="enableMath" type="application/json">false</script><script class="next-config" data-name="mathjax" type="application/json">{"enable":true,"tags":"none","js":{"url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.2/es5/tex-mml-chtml.js","integrity":"sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI="}}</script>
<script src="/js/third-party/math/mathjax.js"></script>



</body>
</html>
